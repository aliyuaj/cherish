{% extends 'admin_base.html'%}
{% import "macros.html" as macros %}
{%block title%} Admin- Edit Admin {%endblock%}
{%block css %}
<!-- Ionicons -->
<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css')}}">
<link rel="stylesheet" href="{{url_for('static', filename='plugins/icheck-bootstrap/icheck-bootstrap.min.css')}}">
<!-- Theme style -->
<link rel="stylesheet" href="{{url_for('static' , filename='dist/css/adminlte.min.css')}}">
<!-- Google Font: Source Sans Pro -->
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
{%endblock%}
<!-- Main content -->

{%block main_content %}

<div class="register-page">
  <div class="register-box ">
    <div class="register-logo">
      <a href="url('.index')"><b>CherishCare</b>Tech</a>
    </div>

    <div class="card">
      <div class="card-body register-card-body">
        <p class="login-box-msg">Edit admin</p>
        {% for message in get_flashed_messages() %}
        {% if error %}
        <div class="alert alert-danger">
          {% else %}
          <div class="alert alert-info">
            {% endif %}
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            {{ message }}
          </div>
          {%endfor%}
          <form action="{{url_for('.edit_user', user_id=user_profile.id)}}" method="post">
            <div class="input-group mb-3">
              <input type="text" class="form-control" placeholder="Full name" value="{{user_profile.name}}" name="full_name" readonly>
              <div class="input-group-append">
                <div class="input-group-text">
                  <span class="fas fa-user"></span>
                </div>
              </div>
            </div>
            <div class="input-group mb-3">
              <input type="email" class="form-control" placeholder="Email" value="{{user_profile.email}}" name="email" readonly>
              <div class="input-group-append">
                <div class="input-group-text">
                  <span class="fas fa-envelope"></span>
                </div>
              </div>
            </div>
            <div class="input-group mb-3">
              <input type="text" class="form-control" placeholder="Username" value="{{user_profile.username}}" name="username" minlength="5"
                maxlength="10" readonly>
              <div class="input-group-append">
                <div class="input-group-text">
                  <span class="fas fa-user-circle"></span>
                </div>
              </div>
            </div>
            <div class="form-group">
              <select class="form-control custom-select" name="role">
                {% for role in roles %}
                {%if role.id==user_profile.role_id%}
                <option value={{role.id}} selected disabled>{{role.name}}</option>
                {%else%}
                <option value={{role.id}}>{{role.name}}</option>
                {%endif%}
                {%endfor%}
              </select>
            </div>

            <div class="row">
              <!-- /.col -->
              <div class="col-4">
                <button type="submit" class="btn btn-primary btn-block">Edit</button>
              </div>
              <!-- /.col -->
            </div>
          </form>
          <!-- /.form-box -->
        </div><!-- /.card -->
      </div>
    </div>
    <!-- /.register-box -->

    {%endblock%}
    {%block js %}
    <!-- jQuery -->
    <script src="{{url_for('static' , filename='plugins/jquery/jquery.min.js')}}"></script>
    <!-- Bootstrap 4 -->
    <script src="{{url_for('static' , filename='plugins/bootstrap/js/bootstrap.bundle.min.js')}}"></script>
    <!-- AdminLTE App -->
    <script src="{{url_for('static' , filename='dist/js/adminlte.min.js')}}"></script>
    {%endblock%}